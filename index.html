<!DOCTYPE html>
<html>
<body>

<header>
  <h1> xml testing
</header>
<main>
  <ul id="name"></ul>
  <ul id="job"></ul>
  <ul id="category"></ul>
  <pre id="output"></pre>
</main>

<script>
  document.addEventListener('DOMContentLoaded', ()=>{
    let url = "recipes.xml";
    fetch(url)
    .then(response=>response.text())
    .then(data=>{
      // console.log(data);
      let parser = new DOMParser();
      let xml = parser.parseFromString(data, "text/xml");
      document.getElementById('output').textContent = data;
      console.log(xml);

      buildRecipeList(xml);
    });
  })

  function buildRecipeList(xml){
    let list = document.getElementById('name');
    let names = xml.getElementsByTagName('name');
    for(let i=0; i<name.length; i++){
      let li = document.createElement('li');
      let name = names[i].firstChild.nodeValue;
      li.textContent = name;
      list.appendChild(li);
    }
  }
</script>

</body>
</html>
